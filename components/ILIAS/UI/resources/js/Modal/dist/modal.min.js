/**
 * This file is part of ILIAS, a powerful learning management system
 * published by ILIAS open source e-Learning e.V.
 *
 * ILIAS is licensed with the GPL-3.0,
 * see https://www.gnu.org/licenses/gpl-3.0.en.html
 * You should have received a copy of said license along with the
 * source code, too.
 *
 * If this is not the case or you just want to try ILIAS, you'll find
 * us at:
 * https://www.ilias.de
 * https://github.com/ILIAS-eLearning
 */
!function(e,t){"use strict";const i={maybeInitCarousel(e){const t=e.querySelector(".carousel-inner");if(!t||t.querySelectorAll(".item").length<2)return;const i=e.querySelector(".carousel-control.left"),r=e.querySelector(".carousel-control.right"),o=e.querySelectorAll(".carousel-indicators > li");i.addEventListener("click",(()=>this.nextPage(e,-1))),r.addEventListener("click",(()=>this.nextPage(e,1))),o.forEach((t=>t.addEventListener("click",(()=>this.gotoPage(e,Number(t.getAttribute("data-slide-to")))))))},nextPage(e,t){const i=e.querySelectorAll(".carousel-inner > .item");let r=0,o=0;i.forEach((e=>{e.classList.contains("active")&&(o=r),r+=1}));let l=o+t;l<0&&(l=r-1),l===r&&(l=0),this.gotoPage(e,l)},gotoPage(e,t){const i=e.querySelectorAll(".carousel-inner > .item"),r=e.querySelectorAll(".carousel-indicators > li");this.setActiveInList(i,t),this.setActiveInList(r,t);const o=e.querySelector(".modal-title");i.forEach((e=>{e.classList.contains("active")&&(o.innerHTML=e.getAttribute("data-title"))}))},setActiveInList(e,t){let i=0;e.forEach((e=>{i!==t?e.classList.remove("active"):e.classList.add("active"),i+=1}))}};e.UI=e.UI||{},e.UI.modal=new class{#e;#t=[];#i={};constructor(e){this.#e=e}showModal(e,t,i,r){if(!e||"DIALOG"!==e?.tagName&&!t?.ajaxRenderUrl)throw new Error("component is not a dialog (or triggers one).");r&&this.#e(e.ownerDocument).on(r,(()=>e.close())),!0!==this.#t[i.id]&&(this.#t[i.id]=!0,t.ajaxRenderUrl?this.#e(e).load(t.ajaxRenderUrl,(()=>{const t=e.querySelector("dialog");if(!t)throw new Error("url did not return a dialog");t.showModal(),this.#t[i.id]=!1})):(e.showModal(),this.#t[i.id]=!1),this.#i[i.id]=e.id,il.UI.lightbox.maybeInitCarousel(e))}}(t),e.UI.lightbox=i}(il,$);
